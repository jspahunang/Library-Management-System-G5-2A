<div class="reset-page">
  <div class="login-card">
    <div class="login-box">
      <div class="login-heading">
        <h1 class="login-title">Reset password</h1>
        <p class="login-subtitle">Enter your account email and we'll reset your password.</p>
      </div>

      @if (message) {
        <div class="alert mb-4" [class.alert-error]="!success" [class.alert-success]="success">
          {{ message }}
          @if (success && newPassword) {
            <p class="mt-2"><strong>Use this password to sign in:</strong> <code class="code-inline">{{ newPassword }}</code></p>
          }
        </div>
      }

      @if (!success) {
        <form (ngSubmit)="onSubmit()" class="login-form">
          <div class="form-group">
            <label for="reset-email" class="form-label">Email</label>
            <input
              id="reset-email"
              type="email"
              [(ngModel)]="email"
              name="email"
              class="input"
              placeholder="you&#64;example.com"
            />
          </div>
          <button type="submit" [disabled]="loading" class="btn btn-primary" style="width: 100%; padding: 0.625rem;">
            {{ loading ? 'Resetting...' : 'Reset password' }}
          </button>
        </form>
      } @else {
        <div class="reset-actions">
          <a routerLink="/login" class="btn btn-primary reset-action-btn">Back to sign in</a>
          <button type="button" (click)="resetForm()" class="btn btn-secondary reset-action-btn reset-action-btn-secondary">
            Reset another account
          </button>
        </div>
      }

      <p class="reset-footer">
        <a routerLink="/login" class="auth-nav-link">
          <span class="auth-nav-link-arrow" aria-hidden="true">‚Üê</span>
          Back to sign in
        </a>
      </p>
    </div>
  </div>
</div>
